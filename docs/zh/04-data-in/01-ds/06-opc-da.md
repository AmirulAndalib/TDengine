---
sidebar_label: OPC DA
title: “OPC DA”数据源
description: 使用“OPC UA”数据源导入数据到 TDengine Cloud 的实例
---

OPC DA 数据写入，是通过连接代理把数据从 OPC DA 系统写入到当前选择的 TDengine Cloud 实例。

:::note 非常重要

首次创建 OPC DA 数据源会在当前实例选择的价格方案上面产生额外费用。更多信息，请[联系咨询](https://cloud.taosdata.com)。

:::

## 先决条件

- 创建一个空数据库来存储 OPC DA 数据。更多信息，请参阅 [数据库](../../../programming/model/#create-database)。
- 确保连接代理运行在与 OPC DA 服务器位于同一网络的机器上。更多信息，请参阅 [安装连接代理](../install-agent/)。

## 具体步骤

1. 在 TDengine Cloud 中，在左边菜单中打开 **数据写入** 页面，在 **数据源** 选项卡上，单击 **添加数据源**打开新增页面。在**名称**输入框里面填写这个数据源的名称，并选择 **OPC-DA** 类型，在**代理**选择框里面选择已经创建的代理，如果没有创建代理，请点击旁边的**创建新的代理**按钮去创建新代理。
2. 在**目标数据库**里面选择一个当前所在的 TDengine Cloud 实例里面的数据库作为目标数据库。
3. 在**服务地址**栏，需要配置 OPC DA 服务器的地址，输入格式为 127.0.0.1<,localhost>/Matrikon.OPC.Simulation.1。
4. 可以点击**连通性检查**, 检查 Cloud 实例 与 OPC UA 服务之间是否可以连通。
5. 在**点位配置文件**栏，配置是否启用点位配置文件。如果启用，请复制 CSV 配置文件的具体内容配置点位信息，而且**点位集**与**库表配置**将不再生效。
6. 在**连接**栏，配置连接超时间隔和采集超时间隔（单位：秒），默认值为 10 秒。
7. 在**原始数据保存**栏，配置是否启用保存。如果保存，请设置保存路径和具体保存天数。
8. 在**其他配置**栏，配置并行度、单次采集上报批次（默认值 100）、上报超时时间（单位：秒，默认值 10）、是否开启 debug 级别日志。
9. 在**库表配置**栏，配置目标 TDengine 中存储数据的超级表、子表结构信息。
10. 在**数据点**栏，配置点位信息。点击**选择**按钮选择 DA 标签。
11. 填写完成以上信息后，点击**新增**按钮，即可直接启动从 OPC DA 服务器到 TDengine Cloud 实例的数据同步。
