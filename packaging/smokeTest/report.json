{"created": 1722911815.97023, "duration": 16.971121072769165, "exitcode": 0, "root": "/Users/xuyunlong/Desktop/TDengine/packaging/smokeTest", "environment": {}, "summary": {"passed": 2, "total": 2, "collected": 2}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": ".", "type": "Dir"}]}, {"nodeid": "assets", "outcome": "passed", "result": []}, {"nodeid": "test_server_linux.py", "outcome": "passed", "result": [{"nodeid": "test_server_linux.py::test_execute_cases[army,python3 ./test.py -f insert/insert_basic.py -N 3]", "type": "Function", "lineno": 27}, {"nodeid": "test_server_linux.py::test_execute_cases[system-test,python3 ./test.py -f 2-query/fill.py]", "type": "Function", "lineno": 27}]}, {"nodeid": "test_server_linux.txt", "outcome": "passed", "result": []}, {"nodeid": ".", "outcome": "passed", "result": [{"nodeid": "assets", "type": "Dir"}, {"nodeid": "test_server_linux.py", "type": "Module"}, {"nodeid": "test_server_linux.txt", "type": "DoctestTextfile"}]}], "tests": [{"nodeid": "test_server_linux.py::test_execute_cases[army,python3 ./test.py -f insert/insert_basic.py -N 3]", "lineno": 27, "outcome": "passed", "keywords": ["test_execute_cases[army,python3 ./test.py -f insert/insert_basic.py -N 3]", "army,python3 ./test.py -f insert/insert_basic.py -N 3", "test_server_linux.py", "smokeTest", ""], "setup": {"duration": 7.856747305000001, "outcome": "passed", "stdout": "cd /Users/xuyunlong/Desktop/TDengine/packaging/smokeTest/../../tests/army&&sudo python3 ./test.py -f insert/insert_basic.py -N 3\n"}, "call": {"duration": 0.0007214060000002576, "outcome": "passed", "stdout": "Running command: python3 ./test.py -f insert/insert_basic.py -N 3\nSTDOUT: 2024-08-06 10:36:40.102280 Procedures for tdengine deployed in taosdatadeMacBook-Pro.local\n\n2024-08-06 10:36:40.270450 stop all dnodes, asan:0\n\n\u001b[1;36m2024-08-06 10:36:41.814138 create an cluster  with 3 nodes and make 0 dnode as independent mnode\u001b[0m\nFalse independentMnode valuse\n2024-08-06 10:36:41.960996 stop all dnodes, asan:0\n\n\u001b[1;36m2024-08-06 10:36:42.400516 psim is deployed and configured by /Users/xuyunlong/Desktop/TDengine/sim/psim/cfg/taos.cfg\u001b[0m\n\u001b[1;36m2024-08-06 10:36:42.567072 dnode:1 is deployed and configured by /Users/xuyunlong/Desktop/TDengine/sim/dnode1/cfg/taos.cfg\u001b[0m\n\u001b[1;36m2024-08-06 10:36:42.731608 dnode:2 is deployed and configured by /Users/xuyunlong/Desktop/TDengine/sim/dnode2/cfg/taos.cfg\u001b[0m\n\u001b[1;36m2024-08-06 10:36:42.884336 dnode:3 is deployed and configured by /Users/xuyunlong/Desktop/TDengine/sim/dnode3/cfg/taos.cfg\u001b[0m\n2024-08-06 10:36:43.012767 taosd found: /Users/xuyunlong/Desktop/TDengine/debug/build/bin/taosd\n\n\u001b[1;36m2024-08-06 10:36:43.018974 dnode:1 is running with nohup /Users/xuyunlong/Desktop/TDengine/debug/build/bin/taosd -c /Users/xuyunlong/Desktop/TDengine/sim/dnode1/cfg > /dev/null 2>&1 &  \u001b[0m\n\u001b[1;36m2024-08-06 10:36:43.123683 the dnode:1 has been started.\u001b[0m\n2024-08-06 10:36:43.236808 taosd found: /Users/xuyunlong/Desktop/TDengine/debug/build/bin/taosd\n\n\u001b[1;36m2024-08-06 10:36:43.242797 dnode:2 is running with nohup /Users/xuyunlong/Desktop/TDengine/debug/build/bin/taosd -c /Users/xuyunlong/Desktop/TDengine/sim/dnode2/cfg > /dev/null 2>&1 &  \u001b[0m\n\u001b[1;36m2024-08-06 10:36:43.346221 the dnode:2 has been started.\u001b[0m\n2024-08-06 10:36:43.453125 taosd found: /Users/xuyunlong/Desktop/TDengine/debug/build/bin/taosd\n\n\u001b[1;36m2024-08-06 10:36:43.457074 dnode:3 is running with nohup /Users/xuyunlong/Desktop/TDengine/debug/build/bin/taosd -c /Users/xuyunlong/Desktop/TDengine/sim/dnode3/cfg > /dev/null 2>&1 &  \u001b[0m\n\u001b[1;36m2024-08-06 10:36:43.561580 the dnode:3 has been started.\u001b[0m\n/Users/xuyunlong/Desktop/TDengine/sim/psim/cfg taosdatadeMacBook-Pro.local\n\u001b[1;36m2024-08-06 10:36:44.669028  create cluster with 3 dnode and check cluster dnode all ready within 5s! \u001b[0m\n2024-08-06 10:36:44.669048 Procedures for testing self-deployment\n\n2024-08-06 10:36:44.670045 Procedures for testing runOneLinux insert/insert_basic.py\n\n\u001b[1;36m2024-08-06 10:36:44.766268 start to excute /Users/xuyunlong/Desktop/TDengine/tests/army/insert/insert_basic.py\u001b[0m\n2024-08-06 10:36:44.766293 check datatype\n\n2024-08-06 10:36:44.766305 check geometry\n\n2024-08-06 10:36:45.290292 sql:select * from t_ge;, queryRows:12 == expect:12\n\n2024-08-06 10:36:45.292238 sql:select * from t_ge where id=1;, queryRows:2 == expect:2\n\n2024-08-06 10:36:45.294056 sql:select * from t_ge where id=2;, queryRows:2 == expect:2\n\n2024-08-06 10:36:45.296008 sql:select * from t_ge where id=3;, queryRows:2 == expect:2\n\n2024-08-06 10:36:45.297843 sql:select * from t_ge where id=4;, queryRows:3 == expect:3\n\n2024-08-06 10:36:45.299562 sql:select * from t_ge where id=5;, queryRows:1 == expect:1\n\n2024-08-06 10:36:45.301289 sql:select * from t_ge where id=6;, queryRows:1 == expect:1\n\n2024-08-06 10:36:45.303020 sql:select * from t_ge where id=7;, queryRows:1 == expect:1\n\n\nSTDERR: /Users/xuyunlong/Library/Python/3.9/lib/python/site-packages/paramiko/pkey.py:100: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"cipher\": algorithms.TripleDES,\n/Users/xuyunlong/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py:259: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"class\": algorithms.TripleDES,\n/Users/xuyunlong/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020\n  warnings.warn(\n\u001b[1;32m2024-08-06 10:36:45.303030 /Users/xuyunlong/Desktop/TDengine/tests/army/insert/insert_basic.py successfully executed\u001b[0m\n\nReturn Code: 0\n"}, "teardown": {"duration": 0.00030534600000109435, "outcome": "passed"}}, {"nodeid": "test_server_linux.py::test_execute_cases[system-test,python3 ./test.py -f 2-query/fill.py]", "lineno": 27, "outcome": "passed", "keywords": ["test_execute_cases[system-test,python3 ./test.py -f 2-query/fill.py]", "system-test,python3 ./test.py -f 2-query/fill.py", "test_server_linux.py", "smokeTest", ""], "setup": {"duration": 9.070548219, "outcome": "passed", "stdout": "cd /Users/xuyunlong/Desktop/TDengine/packaging/smokeTest/../../tests/system-test&&sudo python3 ./test.py -f 2-query/fill.py\n"}, "call": {"duration": 0.0006447180000002106, "outcome": "passed", "stdout": "Running command: python3 ./test.py -f 2-query/fill.py\nSTDOUT: 2024-08-06 10:36:47.908282 Procedures for tdengine deployed in taosdatadeMacBook-Pro.local\n\n2024-08-06 10:36:48.038138 stop all dnodes, asan:0\n\n\u001b[1;36m2024-08-06 10:36:49.680747 psim is deployed and configured by /Users/xuyunlong/Desktop/TDengine/sim/psim/cfg/taos.cfg\u001b[0m\n\u001b[1;36m2024-08-06 10:36:49.837505 dnode:1 is deployed and configured by /Users/xuyunlong/Desktop/TDengine/sim/dnode1/cfg/taos.cfg\u001b[0m\n2024-08-06 10:36:50.010212 taosd found: /Users/xuyunlong/Desktop/TDengine/debug/build/bin/taosd\n\n\u001b[1;36m2024-08-06 10:36:50.020884 dnode:1 is running with nohup /Users/xuyunlong/Desktop/TDengine/debug/build/bin/taosd -c /Users/xuyunlong/Desktop/TDengine/sim/dnode1/cfg > /dev/null 2>&1 &  \u001b[0m\n\u001b[1;36m2024-08-06 10:36:51.147068 the dnode:1 has been started.\u001b[0m\n2024-08-06 10:36:51.147110 Procedures for testing self-deployment\n\n\u001b[1;36m2024-08-06 10:36:51.233078 start to excute /Users/xuyunlong/Desktop/TDengine/tests/system-test/2-query/fill.py\u001b[0m\nsqllog is :True\n2024-08-06 10:36:51.316846 prepare database:db\n\n\u001b[1;36m==========step1:create table\u001b[0m\n\u001b[1;36m==========step2:insert data\u001b[0m\n\u001b[1;36m==========step3:fill data\u001b[0m\n2024-08-06 10:36:53.961473 sql:select avg(c0), last(c1) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(value, 9, 'xx');, queryRows:5 == expect:5\n\n2024-08-06 10:36:53.967475 sql:select avg(c0), last(c1) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(value, 9, True);, queryRows:5 == expect:5\n\n2024-08-06 10:36:53.971607 sql:select avg(c0), last(c1) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(value, 9, False);, queryRows:5 == expect:5\n\n2024-08-06 10:36:53.975763 sql:select avg(c0), last(c2) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(value, 9, 'abc');, queryRows:5 == expect:5\n\n2024-08-06 10:36:53.979792 sql:select avg(c0), last(c2) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(value, 9, '\u6211\u662f#$^\u4e2d\u6587');, queryRows:5 == expect:5\n\n2024-08-06 10:36:53.983410 sql:select avg(c0), last(c3) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(value, 9, '\u6211\u662f#$^\u4e2d\u6587');, queryRows:5 == expect:5\n\n2024-08-06 10:36:53.986825 sql:select avg(c0), last(c4) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(value, 9, '\u6211\u662f\u4e2d\u6587');, queryRows:5 == expect:5\n\n\u001b[1;36m==========step4:fill null\u001b[0m\n2024-08-06 10:36:53.990262 sql:select avg(c0), last(c1) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(value, NULL, NULL);, queryRows:5 == expect:5\n\n2024-08-06 10:36:53.994892 sql:select avg(c0), last(c1) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(value, 9, NULL);, queryRows:5 == expect:5\n\n2024-08-06 10:36:53.998311 sql:select avg(c0), last(c2) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(value, 9, NULL);, queryRows:5 == expect:5\n\n2024-08-06 10:36:54.001748 sql:select avg(c0), last(c3) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(value, 9, NULL);, queryRows:5 == expect:5\n\n2024-08-06 10:36:54.005250 sql:select avg(c0), last(c4) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(value, 9, NULL);, queryRows:5 == expect:5\n\n\u001b[1;36m==========step5:fill prev\u001b[0m\n2024-08-06 10:36:54.008644 sql:select avg(c0), last(c1) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(PREV);, queryRows:5 == expect:5\n\n2024-08-06 10:36:54.013338 sql:select avg(c0), last(c2) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(PREV);, queryRows:5 == expect:5\n\n2024-08-06 10:36:54.016749 sql:select avg(c0), last(c3) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(PREV);, queryRows:5 == expect:5\n\n2024-08-06 10:36:54.019964 sql:select avg(c0), last(c4) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(PREV);, queryRows:5 == expect:5\n\n\u001b[1;36m==========step6:fill next\u001b[0m\n2024-08-06 10:36:54.022938 sql:select avg(c0), last(c1) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(NEXT);, queryRows:5 == expect:5\n\n2024-08-06 10:36:54.027356 sql:select avg(c0), last(c2) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(NEXT);, queryRows:5 == expect:5\n\n2024-08-06 10:36:54.030157 sql:select avg(c0), last(c3) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(NEXT);, queryRows:5 == expect:5\n\n2024-08-06 10:36:54.033229 sql:select avg(c0), last(c4) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(NEXT);, queryRows:5 == expect:5\n\n\u001b[1;36m==========step6:fill next\u001b[0m\n2024-08-06 10:36:54.036761 sql:select avg(c0), last(c1) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(NEXT);, queryRows:5 == expect:5\n\n2024-08-06 10:36:54.039857 sql:select avg(c0), last(c2) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(NEXT);, queryRows:5 == expect:5\n\n2024-08-06 10:36:54.042726 sql:select avg(c0), last(c3) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(NEXT);, queryRows:5 == expect:5\n\n2024-08-06 10:36:54.045914 sql:select avg(c0), last(c4) from db.tb where ts>='2020-02-01 00:00:00' and ts<='2020-02-01 00:00:20' interval(5s) fill(NEXT);, queryRows:5 == expect:5\n\n\nSTDERR: /Users/xuyunlong/Library/Python/3.9/lib/python/site-packages/paramiko/pkey.py:100: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"cipher\": algorithms.TripleDES,\n/Users/xuyunlong/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py:259: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"class\": algorithms.TripleDES,\n/Users/xuyunlong/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020\n  warnings.warn(\n\u001b[1;32m2024-08-06 10:36:54.047288 /Users/xuyunlong/Desktop/TDengine/tests/system-test/2-query/fill.py successfully executed\u001b[0m\n\nReturn Code: 0\n"}, "teardown": {"duration": 0.00034225299999945946, "outcome": "passed"}}]}