{"created": 1724313711.349578, "duration": 19.226884841918945, "exitcode": 0, "root": "/Users/xuyunlong/Desktop/TDengine/packaging/smokeTest", "environment": {}, "summary": {"passed": 3, "total": 3, "collected": 3}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "test_client.py", "type": "Module"}]}, {"nodeid": "test_client.py::TestClient", "outcome": "passed", "result": [{"nodeid": "test_client.py::TestClient::test_basic", "type": "Function", "lineno": 71}, {"nodeid": "test_client.py::TestClient::test_version", "type": "Function", "lineno": 95}, {"nodeid": "test_client.py::TestClient::test_uninstall", "type": "Function", "lineno": 113}]}, {"nodeid": "test_client.py", "outcome": "passed", "result": [{"nodeid": "test_client.py::TestClient", "type": "Class"}]}], "tests": [{"nodeid": "test_client.py::TestClient::test_basic", "lineno": 71, "outcome": "passed", "keywords": ["test_basic", "all", "pytestmark", "TestClient", "test_client.py", "smokeTest", ""], "setup": {"duration": 1.681952312, "outcome": "passed", "stdout": "taospy version WARNING: The directory '/Users/xuyunlong/Library/Caches/pip' or its parent directory is not owned or is not writable by the current user. The cache has been disabled. Check the permissions and owner of that directory. If executing pip with sudo, you should use sudo's -H flag.\n 2.7.15 \n"}, "call": {"duration": 14.232957394, "outcome": "passed", "stdout": "CMD: taosBenchmark -y -a 3 -n 100 -t 100 -d taosdatademacbookprolocal -h 192.168.0.22 -P 6031 &\nSTDOUT: [08/22 16:01:33.906564] INFO: client version: 3.3.2.5\n[08/22 16:01:40.228024] INFO: command to create database: <CREATE DATABASE IF NOT EXISTS taosdatademacbookprolocal replica 3 PRECISION 'ms';>\n[08/22 16:01:40.278127] INFO: stable meters does not exist, will create one\n[08/22 16:01:40.278160] INFO: create stable: <CREATE TABLE IF NOT EXISTS taosdatademacbookprolocal.meters (ts TIMESTAMP,current float,voltage int,phase float) TAGS (groupid int,location binary(24))>\n[08/22 16:01:40.330253] INFO: generate stable<meters> columns data with lenOfCols<80> * prepared_rand<10000>\n[08/22 16:01:40.338873] INFO: start creating 100 table(s) with 8 thread(s)\n[08/22 16:01:40.344349] INFO: thread[0] start creating table from 0 to 12\n[08/22 16:01:40.352137] INFO: thread[1] start creating table from 13 to 25\n[08/22 16:01:40.369192] INFO: thread[2] start creating table from 26 to 38\n[08/22 16:01:40.377959] INFO: thread[3] start creating table from 39 to 51\n[08/22 16:01:40.389971] INFO: thread[4] start creating table from 52 to 63\n[08/22 16:01:40.405853] INFO: thread[5] start creating table from 64 to 75\n[08/22 16:01:40.420526] INFO: thread[6] start creating table from 76 to 87\n[08/22 16:01:40.432789] INFO: thread[7] start creating table from 88 to 99\n[08/22 16:01:40.600099] INFO: record per request (30000) is larger than insert rows (100) in progressive mode, which will be set to 100\n[08/22 16:01:40.734135] INFO: Estimate memory usage: 10.83MB\n[08/22 16:01:40.734142] INFO: run insert thread. real nthread=8\n[08/22 16:01:40.734182] INFO: thread[0] start progressive inserting into table from 0 to 13\n[08/22 16:01:40.734193] INFO: thread[1] start progressive inserting into table from 13 to 26\n[08/22 16:01:40.734210] INFO: thread[2] start progressive inserting into table from 26 to 39\n[08/22 16:01:40.734219] INFO: thread[3] start progressive inserting into table from 39 to 52\n[08/22 16:01:40.734230] INFO: thread[4] start progressive inserting into table from 52 to 64\n[08/22 16:01:40.734244] INFO: thread[5] start progressive inserting into table from 64 to 76\n[08/22 16:01:40.734255] [08/22 16:01:40.734267] INFO: thread[7] start progressive inserting into table from 88 to 100\n[08/22 16:01:40.734254] INFO: thread[6] start progressive inserting into table from 76 to 88\nINFO:  pthread_join 0 ...\n[08/22 16:01:40.858106] INFO:  pthread_join 1 ...\n[08/22 16:01:40.858122] INFO:  pthread_join 2 ...\n[08/22 16:01:40.858132] INFO:  pthread_join 3 ...\n[08/22 16:01:40.859964] INFO:  pthread_join 4 ...\n[08/22 16:01:40.859975] INFO:  pthread_join 5 ...\n[08/22 16:01:40.859983] INFO:  pthread_join 6 ...\n[08/22 16:01:40.859992] INFO:  pthread_join 7 ...\n[08/22 16:01:40.860070] INFO: free resource and exit ...\n\nSTDERR: [08/22 16:01:40.228039] \u001b[32mSUCC: created database (taosdatademacbookprolocal)\n\u001b[0m[08/22 16:01:40.600078] \u001b[32mSUCC: Spent 0.2620 seconds to create 100 table(s) with 8 thread(s) speed: 382 tables/s, already exist 0 table(s), actual 100 table(s) pre created, 0 table(s) will be auto created\n\u001b[0m[08/22 16:01:40.843693] \u001b[32mSUCC: thread[6] progressive mode, completed total inserted rows: 1200, 11023.74 records/second\n\u001b[0m[08/22 16:01:40.843713] \u001b[32mSUCC: thread[4] progressive mode, completed total inserted rows: 1200, 11014.33 records/second\n\u001b[0m[08/22 16:01:40.852035] \u001b[32mSUCC: thread[1] progressive mode, completed total inserted rows: 1300, 11080.05 records/second\n\u001b[0m[08/22 16:01:40.855278] \u001b[32mSUCC: thread[2] progressive mode, completed total inserted rows: 1300, 10778.18 records/second\n\u001b[0m[08/22 16:01:40.858048] [08/22 16:01:40.858054] \u001b[32mSUCC: thread[0] progressive mode, completed total inserted rows: 1300, 10533.74 records/second\n\u001b[0m[08/22 16:01:40.858051] \u001b[32mSUCC: thread[7] progressive mode, completed total inserted rows: 1200, 9738.28 records/second\n\u001b[0m\u001b[32mSUCC: thread[5] progressive mode, completed total inserted rows: 1200, 9730.31 records/second\n\u001b[0m[08/22 16:01:40.859930] \u001b[32mSUCC: thread[3] progressive mode, completed total inserted rows: 1300, 10386.87 records/second\n\u001b[0m[08/22 16:01:40.860048] \u001b[32mSUCC: Spent 0.125857 (real 0.118858) seconds to insert rows: 10000 with 8 thread(s) into taosdatademacbookprolocal 79455.25 (real 84134.01) records/second\n\u001b[0m[08/22 16:01:40.860061] \u001b[32mSUCC: insert delay, min: 3.3720ms, avg: 9.5087ms, p90: 11.6810ms, p95: 20.6980ms, p99: 30.2360ms, max: 30.2360ms\n\u001b[0m\nReturn Code: 0\nSQL: SELECT count(*) from meters\nResult: [(10000,)]\nCMD: taos -s 'drop database taosdatademacbookprolocal;'  -h 192.168.0.22  -P 6031\nSTDOUT: Welcome to the TDengine Command Line Interface, Client Version:3.3.2.5\nCopyright (c) 2023 by TDengine, all rights reserved.\n\ntaos> drop database taosdatademacbookprolocal;\nDrop OK, 0 row(s) affected (0.688978s)\n\n\nSTDERR: \nReturn Code: 0\n"}, "teardown": {"duration": 0.0003761749999995345, "outcome": "passed"}}, {"nodeid": "test_client.py::TestClient::test_version", "lineno": 95, "outcome": "passed", "keywords": ["test_version", "all", "pytestmark", "TestClient", "test_client.py", "smokeTest", ""], "setup": {"duration": 0.00037007100000252535, "outcome": "passed"}, "call": {"duration": 0.0334344729999998, "outcome": "passed", "stdout": "server_version:  ver:3.3.2.5\nbuild:Linux-x64 2024-07-26 16:07:01 +0800\ngitinfo:aa31448f74ac95c32258c7736138295bc35bedcf\nclient_version:  3.3.2.5\n"}, "teardown": {"duration": 0.0003261979999997777, "outcome": "passed"}}, {"nodeid": "test_client.py::TestClient::test_uninstall", "lineno": 113, "outcome": "passed", "keywords": ["test_uninstall", "all", "pytestmark", "TestClient", "test_client.py", "smokeTest", ""], "setup": {"duration": 0.0003239000000014869, "outcome": "passed"}, "call": {"duration": 3.197155216999999, "outcome": "passed", "stdout": "Start to run rmtaos\nPlatform:  Darwin\n"}, "teardown": {"duration": 0.0006130030000015552, "outcome": "passed"}}], "warnings": [{"message": "invalid escape sequence \\T", "category": "DeprecationWarning", "when": "collect", "filename": "/Users/xuyunlong/Desktop/TDengine/packaging/smokeTest/test_client.py", "lineno": 206}, {"message": "Unknown pytest.mark.all - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html", "category": "PytestUnknownMarkWarning", "when": "collect", "filename": "/Users/xuyunlong/Desktop/TDengine/packaging/smokeTest/test_client.py", "lineno": 72}, {"message": "Unknown pytest.mark.all - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html", "category": "PytestUnknownMarkWarning", "when": "collect", "filename": "/Users/xuyunlong/Desktop/TDengine/packaging/smokeTest/test_client.py", "lineno": 96}, {"message": "Unknown pytest.mark.all - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html", "category": "PytestUnknownMarkWarning", "when": "collect", "filename": "/Users/xuyunlong/Desktop/TDengine/packaging/smokeTest/test_client.py", "lineno": 114}]}